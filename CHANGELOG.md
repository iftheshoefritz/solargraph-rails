# solargraph-rails changelog

## Changes

### v1.2

Most of these are courtesy of @grndr, with integration work by
@iftheshoefritz and @apiology

Features / fixes:
- Unlock support for Solargraph ~>0.56.0, with [major
  improvements](https://github.com/castwide/solargraph/blob/master/CHANGELOG.md)
  across the board
- Support writers in Rails models
- Support `gem_rbs_collection` for better quality Rails types
- Use Solargraph::Pin::DelegatedMethod to define delegate methods
- Include overloads and parameter types for ActiveRecord methods
- Improve private relation support for ActiveRecord
- Add find_by_column methods, clean up spec (Thanks, @ShadiestGoat!)
- Annotation improvements driven by testing


Internal improvements:
- Many CI, linting and testing improvements
  - Extract Util.extract_option helper
  - Remove Rails 5 & Rails 6 specs
  - Configure test app to behave like a real app
  - Use ruby/setup-ruby action and test app Gemfile for CI
  - Add a plugin that generates yard docs after bundle install
  - Update test pin definitions and exclusions to be Solargraph and
    Rails version-focused in a single location
  - Working build matrix with heavy caching
  - Add typecheck workflow
- Use Solargraph::Pin::DelegatedMethod to define delegate methods
- Update README introduction
- Update model spec to expect private relation types
- Fix undefined closure for generated parameter pins
- Add Rails 7.1, 7.2 and 8.0 to test matrix
- README.md example bug fix (Thanks, @snuggs!)

### v1.1.2

Features / fixes:

- fix bad gemspec solargraph dependency
- additional pre-packaged Rails type definitions (Thanks, @grncdr!)

Internal improvements:

- Use normal ruby source for extra YARD annotations (Thanks, @grncdr!)
- Speed up CI for recent Solargraph version fresh builds
- spec reliability fixes

### v1.1.1

New maintainer: @apiology

Features / fixes:

- support tsvector type columns in migrations (#55)
- support recent Solargraph releases
  - fix incorrect return type in Walker.normalize_ast
  - limit Solargraph versions to those that support global conventions for now pending new Solargraph release (<0.53 for now)
  - limit Solargraph versions to tested versions (>0.48)
- additional built-in annotations for better completions and types
- work around ActiveSupport 7.0.x core\_ext Logger bug

Internal improvements:

- revive and improve CI workflow for higher quality releases (Huge thanks to @grncdr!)
  - cache YARD gem annotations for faster GitHub workflows via RubyGems plugin
  - track definition skips by Solargraph version
  - remove testing of Rails 5/6; retain and revive Rails 7 testing
  - sync type definitions with current functionality
  - switch to more recent Solargraph releases in CI matrix
- support recent Solargraph versions in specs
- use `Solargraph::ApiMap.load_with_cache` when available in specs for eager type loading
- use .Gemfile pattern to allow local untracked Gemfile changes
- better support for updating definitions

### v1.1.0

- remove pinned solargraph version

### v1.0.1

https://github.com/alisnic/solargraph-arc was merged, with the following features:
- fixes autocompletion for multi-level classes defined in 1 line `class Foo::Bar::Baz`. See https://github.com/castwide/solargraph/issues/506
- autocomplete database columns by parsing db/schema.rb
- autocomplete of model relations
- parsing of `delegate` calls
- completions for methods generated by Devise
- better support for running solargraph outside bundle
- better completion inside controllers. `request`, `response`, `params`, etc.
- autocomplete inside routes.rb
- autocomplete inside migrations
- completions for methods generated by ActiveStorage
- better ActiveRecord completions

### v1.0.0.pre.1

https://github.com/alisnic/solargraph-arc was merged, with the following features:
- fixes autocompletion for multi-level classes defined in 1 line `class Foo::Bar::Baz`. See https://github.com/castwide/solargraph/issues/506
- autocomplete database columns by parsing db/schema.rb
- autocomplete of model relations
- parsing of `delegate` calls
- completions for methods generated by Devise
- better support for running solargraph outside bundle
- better completion inside controllers. `request`, `response`, `params`, etc.
- autocomplete inside routes.rb
- autocomplete inside migrations
- completions for methods generated by ActiveStorage
- better ActiveRecord completions

### v0.3.0
* Require String inflection monkeypatches directly to avoid error from ActiveSupport v7
* Remove Gemfile.lock from version control

### v0.2.2.pre.4
* Loosen the dependency requirements

### v0.2.2.pre.3
* Update to solargraph 0.42.3
* Determine return type of association using class_name argument

### v0.2.2.pre.2

* Simplistic support for associations
* Added dependency on ActiveSupport 6.1 for helpful String methods like `.camelize` and `.singularize`

### v0.2.1

* Update Solargraph to 0.41

### v0.2.0
First released version with no need to use --pre!

* Updated dependencies with security warnings
